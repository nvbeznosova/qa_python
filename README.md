# qa_python
# Тесты для приложения BooksCollector

Этот проект содержит набор тестов для приложения **BooksCollector**, которое позволяет:

- Добавлять книги;
- Устанавливать жанр книги;
- Получать жанр книги;
- Получать список книг по жанру;
- Получать все книги;
- Получать книги, подходящие детям (без возрастного ограничения);
- Добавлять книги в избранное и удалять их из него;
- Получать список избранных книг.

Тесты написаны с использованием **pytest** и находятся в файле `tests.py`.

---

## Реализованные тесты

1. **Добавление книг**
   - `test_add_new_book_add_two_books` — проверяет добавление двух книг.
   - `test_add_new_book_does_not_add_duplicates` — проверяет, что дублирующиеся книги не добавляются.
   - `test_add_new_book_invalid_names_not_added` — проверяет, что пустое название или название длиной более 40 символов не добавляется.
   - `test_added_book_has_no_genre_initially` — проверяет, что новая книга создаётся без жанра.

2. **Установка жанра книги**
   - `test_set_book_genre_valid_genre` — проверяет, что жанр корректно устанавливается для существующей книги.
   - `test_set_book_genre_invalid_genre_does_not_change` — проверяет, что несуществующий жанр не устанавливается.

3. **Получение книг по жанру**
   - `test_get_books_with_specific_genre_returns_correct_books` — проверяет, что метод возвращает книги только указанного жанра.
   - `test_get_books_genre_returns_all_books` — проверяет, что метод возвращает весь словарь книг и жанров.

4. **Книги для детей**
   - `test_get_books_for_children_excludes_age_restricted` — проверяет, что книги с возрастным ограничением (Ужасы, Детективы) не включаются в список.
   - `test_get_books_for_children_includes_only_safe_genres` — проверяет, что книги без возрастного ограничения корректно включаются в список для детей. Тест параметризован для жанров: Фантастика, Мультфильмы, Комедии.

5. **Избранное**
   - `test_add_and_delete_book_in_favorites` — проверяет добавление книги в избранное и удаление её из избранного.
   - `test_add_book_in_favorites_does_not_add_twice` — проверяет, что книга не добавляется в избранное повторно.

---

## Особенности

- Все тесты независимы: для каждого теста создаётся новый экземпляр класса `BooksCollector`.
- Используется **параметризация pytest** для проверки нескольких жанров в тестах, связанных с книгами для детей.
- Тесты покрывают все методы класса `BooksCollector` и основные сценарии использования.

---

## Запуск тестов

Для запуска тестов используйте команду:
pytest -v tests.py